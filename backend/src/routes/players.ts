import express from 'express';import p from'../config/database';import{authenticateToken as a,AuthRequest as q}from'../middleware/auth';const r=express.Router();r.get('/',a,async(req:q,res)=>{const o=await p.query('SELECT * FROM players WHERE coach_id=$1',[req.user!.id]);res.json({players:o.rows})});r.post('/',a,async(req:q,res)=>{const{email:e,fullName:f,currentPosition:c,jerseyNumber:j,gradeLevel:g}=req.body;const o=await p.query('INSERT INTO players (email,full_name,current_position,jersey_number,grade_level,coach_id) VALUES ($1,$2,$3,$4,$5,$6) RETURNING *',[e,f,c,j,g,req.user!.id]);res.status(201).json({player:o.rows[0]})});export default r;
