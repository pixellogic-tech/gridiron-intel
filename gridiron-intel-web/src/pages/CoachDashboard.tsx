import{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{Button}from'../components/ui/Button';import axios from'axios';const API='http://localhost:5000/api';interface P{id:number;full_name:string;current_position:string;jersey_number:number;}export default function CoachDashboard(){const{user:u,token:t,logout:o}=useAuth();const n=useNavigate();const[p,sP]=useState<P[]>([]);const[l,sL]=useState(true);useEffect(()=>{async function f(){try{const r=await axios.get(`${API}/players`,{headers:{Authorization:`Bearer ${t}`}});sP(r.data.players||[])}catch(e){console.error(e)}finally{sL(false)}};if(t)f()},[t]);if(l)return<div style={{minHeight:'100vh',display:'flex',alignItems:'center',justifyContent:'center',background:'#0f172a',color:'white'}}>Loading...</div>;return<div style={{minHeight:'100vh',background:'linear-gradient(135deg,#0f172a,#1e3a8a)'}}><div style={{background:'rgba(15,23,42,0.9)',padding:'1.5rem 2rem',display:'flex',justifyContent:'space-between',alignItems:'center',color:'white'}}><h1 style={{margin:0}}>üèà Coach Dashboard</h1><div style={{display:'flex',gap:'1rem'}}><Button v="outline" onClick={o}>Logout</Button></div></div><div style={{maxWidth:1400,margin:'0 auto',padding:'2rem'}}><div style={{background:'white',borderRadius:16,padding:'2rem'}}><div style={{display:'flex',justifyContent:'space-between',marginBottom:'2rem'}}><h2 style={{color:'#1e293b'}}>Roster</h2><Button v="primary" onClick={()=>alert('Add Player coming soon')}>‚ûï Add</Button></div><div>{p.map(pl=>(<div key={pl.id} style={{background:'#f8fafc',borderRadius:12,padding:'1.5rem',marginBottom:'1rem'}}><h3 style={{color:'#1e293b'}}>#{pl.jersey_number} {pl.full_name}</h3><p style={{color:'#64748b'}}>{pl.current_position||'Unassigned'}</p></div>))}</div></div></div></div>}
